# 場景 4：Agent 智能偵錯助手 (30% Agent)

## 🎯 學習目標
- 體驗 **Agent 模式**的智能錯誤診斷能力
- 學習讓 Agent 自主分析和修復多個相關問題
- 掌握與 Agent 協作進行代碼調試的技巧
- 理解 Agent 如何提供系統性的解決方案

## 📝 場景說明
您接手了一個購物車計算器的 Web 應用，但這個應用有多個 Bug 需要修復。與傳統逐一修復不同，您將學習如何讓 **Agent 自主診斷**整個應用的問題，並提供完整的修復方案。

## 🛠️ 專案結構
```
04-debugging-assistant/
├── README.md (本檔案)
├── index.html (購物車介面)
├── style.css (樣式檔案) 
├── script.js (含有 10 個 Bug 的 JavaScript)
└── package.json (專案配置)
```

## 🐛 已知問題清單
此應用包含以下 10 個刻意設計的 Bug：
1. 總金額計算錯誤（數學運算錯誤）
2. 商品重複加入購物車
3. 運費計算邏輯有問題
4. 清空購物車按鈕沒反應（函數名稱錯誤）
5. 優惠券折扣計算異常
6. 免運費功能沒有實現
7. 套用優惠券後沒有重新計算
8. 結帳後沒有清空購物車
9. 數量修改時價格不會重新計算
10. 移除商品時索引計算錯誤

## 📚 Demo 劇本

### 🌟 **重點：Agent 30% 體驗**
這個場景開始展示 Agent 的**自主診斷能力**，不再是一對一問答模式。

### 階段 1：Agent 整體診斷 (5分鐘)

#### 步驟 1：請 Agent 分析整個應用 (Agent)
```
@workspace 請分析這個購物車應用，找出所有的 Bug 並分類問題的嚴重程度。給我一個完整的診斷報告。
```

**⚡ 重點觀察**：
- Agent 會自主閱讀所有檔案
- 提供結構化的問題分析
- 按優先級排序問題

#### 步驟 2：請 Agent 制定修復策略 (Agent)
```
基於你的診斷，請制定一個系統性的修復計劃。告訴我應該按什麼順序修復這些問題，以及為什麼。
```

### 階段 2：Agent 協助修復 (8分鐘)

#### 步驟 3：讓 Agent 修復核心計算問題 (Agent)
```
請先修復最嚴重的計算相關 Bug。一次處理多個相關問題，並解釋你的修復邏輯。
```

#### 步驟 4：讓 Agent 處理使用者介面問題 (Agent)
```
現在修復所有與使用者介面互動相關的 Bug，確保所有按鈕和功能都能正常運作。
```

#### 步驟 5：讓 Agent 完善功能邏輯 (Agent)
```
最後處理優惠券和結帳流程的問題，讓整個購物流程變得完整且用戶友好。
```

### 階段 3：Agent 驗證與優化 (2分鐘)

#### 步驟 6：請 Agent 進行完整測試 (Agent)
```
請為這個購物車應用設計一個完整的測試流程，確保所有功能都正常運作，並建議任何可能的改進。
```

## 💡 重點技巧

### 🤖 Agent 協作要點：
1. **整體思維**：讓 Agent 從系統角度分析問題
2. **信任 Agent 判斷**：讓 Agent 自主決定修復順序
3. **分批處理**：按邏輯相關性分組修復問題
4. **驗證導向**：讓 Agent 負責測試和驗證

### 📋 有效的 Agent 指令：
- "分析整個應用並找出所有問題"
- "制定系統性的修復策略"
- "一次修復所有相關的計算問題"
- "設計完整的測試流程"

### 🚫 避免的做法：
- 不要一個一個問題單獨處理
- 不要只描述問題而不讓 Agent 自主分析
- 不要跳過讓 Agent 制定整體策略的步驟

## 🎬 Demo 重點

### 傳統方式 vs Agent 方式對比：
- **傳統**：發現一個 Bug → 問如何修復 → 修復 → 發現下個 Bug
- **Agent**：請 Agent 分析所有問題 → 制定修復策略 → 系統性修復 → 整體驗證

### 展示要點：
1. **Agent 的診斷能力**：能發現人類可能忽略的問題
2. **系統性思考**：Agent 會考慮問題之間的相關性
3. **效率提升**：一次處理多個相關問題
4. **品質保證**：Agent 會主動建議測試和驗證

## ✅ 預期成果
完成本場景後，您應該：
- ✅ 體驗到 Agent 的自主診斷能力
- ✅ 學會讓 Agent 制定修復策略
- ✅ 掌握系統性問題解決方法
- ✅ 理解 Agent 協作的效率優勢
- ✅ 擁有一個完全正常運作的購物車應用

## 🔄 下一步
場景 5 將展示 **Agent 50% 模式**，讓 Agent 自主設計和實現完整的測試策略。