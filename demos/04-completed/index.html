<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>購物車計算器 - 完美運作版本</title>
    <link rel="stylesheet" href="style.css?v=20250603012">
</head>
<body>
    <div class="container">
        <h1>🛒 購物車計算器</h1>
        <p class="subtitle">✅ 所有 Bug 已修復！完美運作的購物車系統</p>
        
        <div class="product-section">
            <h2>商品清單</h2>
            <div class="product-grid">
                <div class="product-card">
                    <h3>筆記型電腦</h3>
                    <p class="price">$25,000</p>
                    <input type="number" id="laptop-qty" value="0" min="0" oninput="updateQuantityRealtime('laptop')">
                    <button onclick="addToCart('laptop', 25000)">加入購物車</button>
                </div>
                
                <div class="product-card">
                    <h3>藍牙耳機</h3>
                    <p class="price">$3,500</p>
                    <input type="number" id="headphones-qty" value="0" min="0" oninput="updateQuantityRealtime('headphones')">
                    <button onclick="addToCart('headphones', 3500)">加入購物車</button>
                </div>
                
                <div class="product-card">
                    <h3>無線滑鼠</h3>
                    <p class="price">$1,200</p>
                    <input type="number" id="mouse-qty" value="0" min="0" oninput="updateQuantityRealtime('mouse')">
                    <button onclick="addToCart('mouse', 1200)">加入購物車</button>
                </div>
            </div>
        </div>
        
        <div class="cart-section">
            <h2>購物車</h2>
            <div id="cart-items">
                <p class="empty-cart">購物車是空的</p>
            </div>
            
            <div class="cart-summary">
                <div class="summary-row">
                    <span>小計：</span>
                    <span id="subtotal">$0</span>
                </div>
                <div class="summary-row">
                    <span>運費：</span>
                    <span id="shipping">$0</span>
                </div>
                <div class="summary-row">
                    <span>折扣：</span>
                    <span id="discount">$0</span>
                </div>
                <div class="summary-row total">
                    <span>總計：</span>
                    <span id="total">$0</span>
                </div>
            </div>
            
            <button id="checkout-btn" onclick="checkout()" disabled>結帳</button>
            <button id="clear-cart-btn" onclick="clearCart()">清空購物車</button>
        </div>
        
        <div class="coupon-section">
            <h3>優惠券</h3>
            <input type="text" id="coupon-code" placeholder="輸入優惠券代碼">
            <button onclick="applyCoupon()">套用優惠券</button>
            <p class="coupon-hint">試試看：SAVE10, SAVE20, FREESHIP</p>
            <div id="coupon-status" class="coupon-status"></div>
        </div>
        
        <div class="debug-info success">
            <h3>✅ 修復完成</h3>
            <ul>
                <li>✓ 總金額計算正確</li>
                <li>✓ 優惠券功能正常</li>
                <li>✓ 清空購物車按鈕正常運作</li>
                <li>✓ 運費計算邏輯正確</li>
                <li>✓ 數量更新即時重新計算</li>
                <li>✓ 結帳後自動清空購物車</li>
                <li>✓ 移除商品有確認提示</li>
                <li>✓ 免運費優惠券功能完整</li>
                <li>✓ 響應式設計和動畫效果</li>
                <li>✓ 輸入驗證和錯誤處理</li>
            </ul>
        </div>
    </div>
    
    <script src="script.js?v=20250603012"></script>
</body>
</html>