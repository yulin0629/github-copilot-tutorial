# 場景 5：Agent 測試策略師

## 🎯 學習目標
- 體驗 **Agent 策略制定**：從協助者變為策略制定者
- 讓 Agent 自主設計完整的測試架構和策略
- 學習如何讓 Agent 實現測試自動化
- 掌握測試驅動開發的 Agent 協作模式

## 📝 場景說明
您有一個功能完整的數據分析工具，包含 20+ 個核心函數需要測試。與傳統手動寫測試不同，您將學習如何讓 **Agent 自主承擔測試架構師的角色**，從分析功能到設計測試策略，再到實現完整的測試套件。

## 🛠️ 專案結構
```
05-unit-testing/
├── README.md (本檔案)
├── index.html (數據分析工具界面)
├── style.css (精美的 UI 樣式)
├── dataProcessor.js (核心數據處理類 - 20+ 函數)
├── app.js (應用邏輯)
├── package.json (專案配置)
├── jest.config.js (測試配置 - Agent 來完善)
├── src/ (源碼目錄)
└── tests/ (測試目錄 - Agent 來設計)
```

## 🔍 核心功能分析

### 數據處理功能 (DataProcessor 類)
- **數據解析**: parseData(), validateNumbers(), cleanData()
- **基本統計**: calculateSum(), calculateAverage(), findMinMax()
- **進階統計**: calculateMedian(), calculateStandardDeviation(), calculateVariance()
- **數據品質**: findDuplicates(), calculateCompleteness(), checkDataQuality()
- **分布分析**: detectOutliers(), calculateQuartiles(), calculateSkewness(), calculateKurtosis()

## 📚 Demo 劇本

### 🌟 **重點：Agent 主導測試設計**
這個場景 Agent 開始**主導**測試設計，不只是回答問題，而是自主制定策略。

### 階段 1：Agent 功能分析 (3分鐘)

#### 步驟 1：讓 Agent 全面分析項目 (Agent)
```
@workspace 請分析這個數據分析工具，理解所有功能模組，並評估測試的複雜度和挑戰。給我一個完整的功能地圖。
```

**⚡ 觀察重點**：
- Agent 會主動讀取所有檔案
- 理解功能間的依賴關係
- 識別測試的重點和難點

#### 步驟 2：讓 Agent 設計測試策略 (Agent)
```
基於你的分析，請設計一個完整的測試策略。包括：
1. 測試架構設計
2. 測試用例分類
3. 測試優先級排序
4. 覆蓋率目標
5. 自動化方案
```

### 階段 2：Agent 主導測試實現 (10分鐘)

#### 步驟 3：讓 Agent 建立測試框架 (Agent)
```
請實現完整的測試框架，包括：
- 設置 Jest 配置
- 建立測試檔案結構
- 實現測試輔助工具
- 設計測試數據
```

#### 步驟 4：讓 Agent 實現核心測試用例 (Agent)
```
現在請實現所有核心功能的單元測試，特別關注：
- 邊界值測試
- 異常情況處理
- 數據驗證邏輯
- 統計計算準確性
```

#### 步驟 5：讓 Agent 實現整合測試 (Agent)
```
請設計並實現整合測試，驗證：
- 數據處理流程的完整性
- UI 與核心邏輯的整合
- 複雜場景的端到端測試
```

### 階段 3：Agent 測試優化 (2分鐘)

#### 步驟 6：讓 Agent 建立自動化流程 (Agent)
```
請建立完整的測試自動化方案：
1. 連續整合配置
2. 測試覆蓋率報告
3. 效能測試
4. 測試結果視覺化
並在網頁上展示測試執行結果
```

## 💡 重點技巧

### 🤖 Agent 策略制定要點：
1. **策略主導**：讓 Agent 主動設計測試策略而非被動回答
2. **全局思考**：Agent 需要考慮整個測試生態系統
3. **自主實現**：Agent 直接編寫代碼而非只提供建議
4. **持續優化**：Agent 主動建議改進和最佳實踐

### 📋 有效的 Agent 指令模式：
- "設計完整的測試策略"（而非"如何測試這個函數"）
- "實現測試框架"（而非"給我一個測試範例"）
- "建立自動化方案"（而非"測試該怎麼運行"）
- "優化測試架構"（而非"這個測試對嗎"）

### 🚫 避免的做法：
- 不要一個一個函數問如何測試
- 不要只要求代碼範例
- 不要限制 Agent 的設計思路
- 不要忽略讓 Agent 建立完整測試生態

## 🎬 Demo 重點

### 傳統協助 vs Agent 策略制定對比：
- **30% 模式**：Agent 協助修復問題，人類主導流程
- **50% 模式**：Agent 主導設計策略，自主實現方案

### 展示要點：
1. **策略制定能力**：Agent 能設計測試架構
2. **自主實現能力**：Agent 能直接編寫測試代碼
3. **全局優化思維**：Agent 考慮整個測試生態
4. **實時驗證**：在網頁中直接看到測試執行結果

## ✅ 預期成果
完成本場景後，您應該：
- ✅ 理解 Agent 作為測試策略師的能力
- ✅ 掌握讓 Agent 主導技術設計的方法
- ✅ 擁有完整的測試套件和自動化流程
- ✅ 學會信任和利用 Agent 的全局思維
- ✅ 在瀏覽器中看到完整的測試報告和結果

## 🔄 下一步
場景 6 將展示 **Agent 架構決策**，讓 Agent 不只實現功能，還要主導重構策略和架構決策。